<!DOCTYPE html>

<head>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="netwalk.css">
    <link rel="stylesheet" href="terminal.css">
    <link rel="stylesheet" href="cya.css">
    <link rel="stylesheet" href="flowfree.css">
    <link rel="stylesheet" href="manualTSP.css">
    <link rel="stylesheet" href="editor.css">
    <script src="boxDrawings.js"></script>
    <!-- <script src="lineHeight.js"></script> -->
    <script src="netwalk.js"></script>
    <script src="terminal.js"></script>
    <script src="cya.js"></script>
    <script src="flowfree.js"></script>
    <script src="manualTSP.js"></script>
    <script src="utils.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.27.5/full/pyodide.js"></script>
    <script src="editor.js"></script>
</head>

<body>
    <div class="main-content prevent-select" style="padding-left: 10ch; padding-right: 10ch; padding-top: 1ch; padding-bottom: 1ch">
        <div>
            <p>You think you should head to Networking first, to see what damage the AI has caused
                and what you can fix.
            </p>
            <label>Input Networking code:</label>
            <input id="input1" class="codeinput inputbox" type="text" placeholder="code" maxlength=5>
            <button onclick="validateAndShow('input1', 11111, 'networkingContainer', 'wrong1')">submit</button>
            <label id="wrong1" class="hidden error">Wrong code.</label>
        </div>
        <br>
        <div>
            <p>You think you should head to Manufacturing first, to see what the AI is up to.
            </p>
            <label>Input Manufacturing code:</label>
            <input id="input2" class="codeinput inputbox" type="text" placeholder="code" maxlength=5>
            <button onclick="validateAndShow('input2', 11111, 'manufacturingContainer', 'wrong2')">submit</button>
            <label id="wrong2" class="hidden error">Wrong code.</label>
        </div>
        <br>
        <div>
            <p>You think you should head to Security first, to security idk.
            </p>
            <label>Input Security code:</label>
            <input id="input3" class="codeinput inputbox" type="text" placeholder="code" maxlength=5>
            <button onclick="validateAndShow('input3', 11111, 'securityContainer', 'wrong3')">submit</button>
            <label id="wrong3" class="hidden error">Wrong code.</label>
        </div>
        <div id="networkingContainer" class="hidden">
            <br>
            <h2>Networking</h2>
            <p>The AI has scrambled your network's connnections, and infected your computers with viruses!
                You can either try to unscramble your network, disinfect some computers manually,
                or make a program to disinfect all the computers.</p>
            <br>
            <button onclick="toggleButton(this); toggleShow('netWalkContainer')">Unscramble the network (Easy)</button>
            <button onclick="toggleButton(this); toggleShow('manualTSPContainer')">Disinfect some computers
                (Medium)</button>
            <button onclick="toggleButton(this);">Disinfect ALL the computers (Hard)</button>
            <div id="netWalkContainer" class="hidden">
                <br>
                <p>Rotate the cables to connect the server to all the computers, allowing your network to function
                    again.</p>
                <p>#################</p>
                <div class="flex-table-holder-holder">
                    <p>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>
                    </p>
                    <div id="NetWalk" class="flex-table-holder"></div>
                    <p>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>
                    </p>
                </div>
                <p>#################</p>
                <p id="netWalkWin" class="win hidden">You unscrambled the network!</p>
                <p></p>
            </div>
            <div id="manualTSPContainer" class="hidden">
                <br>
                <p>You go to disinfect some computers manually.
                    However, the computers are far apart, so you want to do this efficiently.
                    Find the shortest path from the server room to the computers and back.</p>
                <p>#############################################################################</p>
                <div class="flex-table-holder-holder">
                    <p>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>
                        #<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>
                        #<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>
                        #<br>#<br>#<br>#<br>#<br>#<br>
                    </p>
                    <div id="ManualTSP" class="flex-table-holder"></div>
                    <p>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>
                        #<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>
                        #<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>#<br>
                        #<br>#<br>#<br>#<br>#<br>#<br>
                    </p>
                </div>
                <p>#############################################################################</p>
                <p id="manualTSPLength"></p> <span id="manualTSPStatus"></span>
            </div>
        </div>
        <div id="manufacturingContainer" class="hidden">
            <br>
            <h2>Manufacturing</h2>
            <p>The AI has set up a manufacturing plant to make robot minions.
                You can either reroute some of his conveyer belts into disposal units to disrupt some production,
                reroute more of his conveyer belts into disposal units to disrupt more production,
                or use EMP pulses to permananently disable his machines.
            </p>
            <br>
            <button onclick="toggleButton(this); toggleShow('flowFreeContainer')">Reroute some conveyers (Easy)</button>
            <!-- <button onclick="toggleButton(this);">Reroute MORE conveyers (Medium)</button> -->
            <button onclick="toggleButton(this);">Disable the machines with EMP (Hard)</button>
            <div id="flowFreeContainer" class="hidden">
                <br>
                <p>Route the production plants "◆" into their corresponding disposal units "◉".</p>
                <button onclick="hide('flowFree3Container')" id="flowFreeBailMedium" class="hidden">
                    Head to the next station (if you are stuck on Medium)
                </button>
                <div id="flowFree1Container">
                    <div id="flowFree1">
                        <br>
                        <p>Manufacturing section 1:</p>
                    </div>
                    <div id="flowFreeWin1" class="hidden">
                        <p class="win">Section 1 rerouted!</p>
                        <button onclick="hide('flowFree1Container'); show('flowFree2Container')">
                            Go to section 2
                        </button>
                    </div>
                </div>
                <div id="flowFree2Container" class="hidden">
                    <div id="flowFree2">
                        <br>
                        <p>Manufacturing section 2:</p>
                    </div>
                    <div id="flowFreeWin2" class="hidden">
                        <p class="win">Section 2 rerouted!</p>
                        <button onclick="hide('flowFree2Container'); show('flowFree3Container')">
                            Go to section 3
                        </button>
                    </div>
                </div>
                <div id="flowFree3Container" class="hidden">
                    <div id="flowFree3">
                        <br>
                        <p>Manufacturing section 3:</p>
                    </div>
                    <div id="flowFreeWin3" class="hidden">
                        <p class="win">Section 3 rerouted! You've messed up half of the plant!</p>
                        <p> If you don't want to waste time, you can move on to the next station now. 
                            Otherwise, you could also press on, or even go back and 
                            destroy the manufacturing more permanently with EMP.</p>
                        <button onclick="hide('flowFree3Container')">
                            Head to the next station
                        </button>
                        <button onclick="hide('flowFree3Container'); 
                        show('flowFree4Container');
                        show('flowFreeBailMedium');">
                            Reroute more conveyers (Medium)
                        </button>
                    </div>
                </div>
                <div id="flowFree4Container" class="hidden">
                    <div id="flowFree4">
                        <br>
                        <p>Manufacturing section 4:</p>
                    </div>
                    <div id="flowFreeWin4" class="hidden">
                        <p class="win">Secion 4 rerouted!</p>
                        <button onclick="hide('flowFree4Container'); show('flowFree5Container')">
                            Go to section 5
                        </button>
                    </div>
                </div>
                <div id="flowFree5Container" class="hidden">
                    <div id="flowFree5">
                        <br>
                        <p>Manufacturing section 5:</p>
                    </div>
                    <div id="flowFreeWin5" class="hidden">
                        <p class="win">Section 5 rerouted!</p>
                        <button onclick="hide('flowFree5Container'); show('flowFree6Container')">
                            Go to section 6
                        </button>
                    </div>
                </div>
                <div id="flowFree6Container" class="hidden">
                    <div id="flowFree6">
                        <br>
                        <p>Manufacturing section 6:</p>
                    </div>
                    <div id="flowFreeWin6" class="hidden">
                        <p class="win">All sections rerouted!</p>
                        <p>All the manufacturing sections are scrambled. You can now move on, or go back and destroy the manufacturing more permanently with EMP.</p>
                        <button onclick="hide('flowFree6Container')">
                            Move on to the next station
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div id="securityContainer" class="hidden">
            <br>
            <h2>Security</h2>
            <p>You have hacked into the AI's file system. You need to find his password,
                but you can also stick around and cause more damage. Navigate his file system using
                the terminal below.
            </p>
            <br>
            <div id="terminalContainer">
                <pre id="terminal"></pre>
                <form action="javascript:;" onsubmit=" enter(this) ">
                    <label id="terminalLabel">[hacker@HLSS/]$ </label>
                    <input id="terminalBox" type="text">
                </form>
            </div>
        </div>
        <br><br><br><br> <!-- so content doesn't end at very bottom -->
    </div>
    <div id="editorArea" class="hidden">
        <textarea id="codeEditor"></textarea>
        <button id="runButton" type="button" class="inputbox" style="position:absolute; bottom:20px; right:30px;">run</button>
        <pre id="outputArea" class="output"></pre>
    </div>
</div>
</body>

</html>